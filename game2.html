<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Category Game</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 50px;
        }
        .game-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 350px;
            margin: auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .category {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin: 15px 0;
        }
        .word-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .word-box {
            padding: 12px 18px;
            background-color: #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }
        .word-box:hover {
            background-color: #d0d0d0;
        }
        .word-box.selected {
            background-color: #3498db;
            color: white;
        }
        .word-box.correct {
            background-color: #2ecc71;
            color: white;
        }
        .word-box.incorrect {
            background-color: #e74c3c;
            color: white;
        }
        .controls {
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 0 5px;
        }
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        .timer {
            font-size: 18px;
            margin: 15px 0;
        }
        .score-container {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
        }
        .feedback {
            margin-top: 10px;
            min-height: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h2>Word Category Game</h2>
        <p>Select all words that belong to the category:</p>
        <div class="category" id="category">Animals</div>
        
        <div class="word-container" id="wordContainer"></div>
        
        <div class="feedback" id="feedback"></div>
        
        <div class="timer" id="timer">Time: 30s</div>
        
        <div class="score-container">
            <div>Score: <span id="score">0</span></div>
            <div>Level: <span id="level">1</span></div>
        </div>
        
        <div class="controls">
            <button id="checkBtn">Check Answers</button>
            <button id="nextBtn" disabled>Next Round</button>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const categoryEl = document.getElementById('category');
            const wordContainerEl = document.getElementById('wordContainer');
            const feedbackEl = document.getElementById('feedback');
            const timerEl = document.getElementById('timer');
            const scoreEl = document.getElementById('score');
            const levelEl = document.getElementById('level');
            const checkBtn = document.getElementById('checkBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Game data
            const categories = [
                {
                    name: "Animals",
                    words: ["Lion", "Tiger", "Elephant", "Zebra", "Giraffe", "Monkey"],
                    distractors: ["Apple", "Chair", "Hammer", "Piano", "Jacket", "Mountain"]
                },
                {
                    name: "Fruits",
                    words: ["Apple", "Banana", "Orange", "Grape", "Pineapple", "Strawberry"],
                    distractors: ["Dog", "Table", "Pencil", "Car", "Sock", "Cloud"]
                },
                {
                    name: "Vehicles",
                    words: ["Car", "Bus", "Truck", "Train", "Bicycle", "Motorcycle"],
                    distractors: ["Tree", "Potato", "Shirt", "Book", "Lamp", "Flower"]
                },
                {
                    name: "Furniture",
                    words: ["Chair", "Table", "Sofa", "Bed", "Desk", "Dresser"],
                    distractors: ["Cat", "Orange", "Plane", "Pencil", "Rain", "Moon"]
                },
                {
                    name: "Clothing",
                    words: ["Shirt", "Pants", "Jacket", "Socks", "Hat", "Scarf"],
                    distractors: ["Banana", "Radio", "Dog", "Chair", "Computer", "River"]
                }
            ];
            
            let currentCategory = null;
            let currentWords = [];
            let selectedWords = [];
            let score = 0;
            let level = 1;
            let timer = 30;
            let timerInterval = null;
            
            // Event listeners
            checkBtn.addEventListener('click', checkAnswers);
            nextBtn.addEventListener('click', nextRound);
            
            // Start the game
            startGame();
            
            function startGame() {
                score = 0;
                level = 1;
                scoreEl.textContent = score;
                levelEl.textContent = level;
                nextRound();
            }
            
            function nextRound() {
                clearInterval(timerInterval);
                
                // Reset UI
                feedbackEl.textContent = "";
                nextBtn.disabled = true;
                checkBtn.disabled = false;
                selectedWords = [];
                
                // Set timer based on level
                timer = Math.max(10, 30 - (level - 1) * 3);
                timerEl.textContent = `Time: ${timer}s`;
                
                // Pick a random category
                currentCategory = categories[Math.floor(Math.random() * categories.length)];
                categoryEl.textContent = currentCategory.name;
                
                // Create word list
                const numCorrectWords = Math.min(level + 2, currentCategory.words.length);
                const numIncorrectWords = Math.min(level + 1, currentCategory.distractors.length);
                
                const correctWords = shuffleArray([...currentCategory.words]).slice(0, numCorrectWords);
                const incorrectWords = shuffleArray([...currentCategory.distractors]).slice(0, numIncorrectWords);
                
                currentWords = shuffleArray([...correctWords, ...incorrectWords]);
                
                // Render word boxes
                renderWords();
                
                // Start timer
                startTimer();
            }
            
            function renderWords() {
                wordContainerEl.innerHTML = "";
                
                currentWords.forEach(word => {
                    const wordBox = document.createElement('div');
                    wordBox.className = 'word-box';
                    wordBox.textContent = word;
                    wordBox.addEventListener('click', () => toggleWordSelection(wordBox, word));
                    wordContainerEl.appendChild(wordBox);
                });
            }
            
            function toggleWordSelection(wordBox, word) {
                if (checkBtn.disabled) return; // Prevent selection after checking
                
                const index = selectedWords.indexOf(word);
                if (index === -1) {
                    selectedWords.push(word);
                    wordBox.classList.add('selected');
                } else {
                    selectedWords.splice(index, 1);
                    wordBox.classList.remove('selected');
                }
            }
            
            function checkAnswers() {
                clearInterval(timerInterval);
                checkBtn.disabled = true;
                nextBtn.disabled = false;
                
                let correctCount = 0;
                let errorCount = 0;
                
                // Check each word box
                const wordBoxes = document.querySelectorAll('.word-box');
                wordBoxes.forEach(box => {
                    const word = box.textContent;
                    const isSelected = selectedWords.includes(word);
                    const isCorrectCategory = currentCategory.words.includes(word);
                    
                    box.classList.remove('selected');
                    
                    if (isSelected && isCorrectCategory) {
                        box.classList.add('correct');
                        correctCount++;
                    } else if (isSelected && !isCorrectCategory) {
                        box.classList.add('incorrect');
                        errorCount++;
                    } else if (!isSelected && isCorrectCategory) {
                        box.classList.add('incorrect');
                        errorCount++;
                    }
                });
                
                // Calculate points
                const pointsEarned = Math.max(0, correctCount * 10 - errorCount * 5);
                score += pointsEarned;
                scoreEl.textContent = score;
                
                // Feedback
                if (errorCount === 0 && correctCount === currentCategory.words.filter(w => currentWords.includes(w)).length) {
                    feedbackEl.textContent = `Perfect! +${pointsEarned} points`;
                    feedbackEl.style.color = '#2ecc71';
                    level++;
                    levelEl.textContent = level;
                } else if (correctCount > errorCount) {
                    feedbackEl.textContent = `Good job! +${pointsEarned} points`;
                    feedbackEl.style.color = '#3498db';
                } else {
                    feedbackEl.textContent = `Try again! +${pointsEarned} points`;
                    feedbackEl.style.color = '#e74c3c';
                }
            }
            
            function startTimer() {
                timerInterval = setInterval(() => {
                    timer--;
                    timerEl.textContent = `Time: ${timer}s`;
                    
                    if (timer <= 0) {
                        clearInterval(timerInterval);
                        timerEl.textContent = 'Time\'s up!';
                        checkAnswers();
                    }
                }, 1000);
            }
            
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
        });
    </script>
</body>
</html>